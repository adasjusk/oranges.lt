<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <link rel="icon" href="logo.png" type="image/png" />
  <title>Orange MC | Minecraft Anarchy Server</title>
  <meta name="description" content="Join Orange MC - a survival Minecraft server with no resets, PVP enabled, and a true free-for-all experience!" />
  <link rel="canonical" href="https://orange.lt/minecraft" />
  <meta name="referrer" content="no-referrer-when-downgrade" />
  <meta property="og:site_name" content="Orange MC" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Orange MC" />
  <meta property="og:description" content="Orange MC is a minecraft survival server with a world that never resets, with pvp enabled in a free for all environment." />
  <meta property="og:url" content="https://orange.lt/minecraft" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Orange MC" />
  <meta name="twitter:description" content="Orange MC is a minecraft survival server with a world that never resets, with pvp enabled in a free for all environment." />
  <meta name="twitter:url" content="https://orange.lt/minecraft" />
  <link rel="stylesheet" href="mc-style.css" />

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "url": "https://oranges.lt",
    "logo": "https://oranges.lt/logo.png"
  }
  </script>

  <!-- RSS Loader -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      let rssItems = [];
      let currentIndex = 0;
  
      async function loadRSS() {
        try {
          const response = await fetch('/rss.xml');
          const text = await response.text();
          const parser = new DOMParser();
          const xml = parser.parseFromString(text, "application/xml");
          const items = Array.from(xml.querySelectorAll("item")).reverse(); // Show oldest first
          rssItems = items.map(item => ({
            title: item.querySelector("title").textContent,
            description: item.querySelector("description").textContent
          }));
          currentIndex = rssItems.length - 1; // Start at bottom (most recent after reverse)
          displayUpdate(currentIndex);
        } catch (e) {
          document.getElementById("update-list").innerHTML = "<li>Failed to load updates.</li>";
        }
      }
  
      function decodeHTML(html) {
        const txt = document.createElement("textarea");
        txt.innerHTML = html;
        return txt.value;
      }
  
      function displayUpdate(index) {
        if (!rssItems.length || index >= rssItems.length) return;
        const update = rssItems[index];
        const cleanDescription = decodeHTML(update.description);
  
        const lines = cleanDescription
          .split(/<br\s*\/?>|<\/?p>|[\r\n]+/gi) // split by <br>, <p>, </p>, or newlines
          .map(line => line.trim())
          .filter(line => line.length > 0);
  
        const listHTML = lines.map(line => `<li>${line}</li>`).join("\n");
        document.getElementById("update-list").innerHTML = listHTML;
      }
  
      document.getElementById("next-update").addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % rssItems.length;
        displayUpdate(currentIndex);
      });
  
      loadRSS();
    });
  </script>

  <!-- Cursor Style -->
  <style>
    body {
      cursor: url('data:image/x-icon;base64,AAACAAEAICAAAAAAAACoCAAAFgAAACgAAAAgAAAAQAAAAAEACAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAGBoOAEdPGwAdIQgAHCQIAB8lAgAdKAIAdoA3AKrBKQAiJwgArMkmAFBiFQCuySYAsMgsAMbhNwDJ6i4Aw+BPAA80SgAWHgAAt9UmAM3oOgAbIQAAGCUDAB0hAAC60jgAHSQJAB4kCQAfJAkAICQJAKO4RQAfKAwAgIgjAB1KXwBYYBkAx+syACkyDwDJ6TUAtNUnAMvpNQDK6jgAzOk1ABMfDQAFHi4AHCUEAB4oBAAeJgcAICsEAMbyJAAdSGMAyegzABUZBQBZZhoA0Oc5AM/pPwC62i4AKTE6AB4kCwAfIg4AHyQLACAiDgAgKQgAAypKACMkCwCtxCwArsYpAK7KIwDF5ygAsMojAMfmNwCdvRgAyeQ6AJytOQAoZY0AGB0AAMvsNwC20ywAzew3ACFNagAbJAMA0OpDALrYMgAdJQYAECAtAB4jCQCnwyoAJCMJAKnIJwB6ji8Av+U1AK7GKgCwxioAq8kzAFFiGQBUZBYAOT0yAMnrLADK6ywAxeBKADxCLwDL5jgAy+oyAAAgLgDM7y8At9IqABU1SABqal0AGiAKAHeFJwAdJQcAHiUHACAnBAB9iiQAq8kiAKzDKwCtxyUAl6ssABdNYwDG4zkAyOs2ABtLbwAVGQgAFDNMADRrhgDT6z8AMTwWACAkCA==" ), auto;
    }
    /* Styling the small next button */
    #next-update {
      margin-top: 10px;
      background-color: white;
      color: black;
      border: 1.5px solid black;
      font-size: 18px;
      width: 30px;
      height: 30px;
      border-radius: 4px;
      cursor: pointer;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
    }
    #next-update:hover {
      background-color: #f0f0f0;
    }
  </style>

  <!-- Background JS -->
  <script src="js/background.js"></script>

  <!-- IP Copy JS -->
  <script>
    function copyIP(id) {
      var ip = document.getElementById(id).textContent;
      navigator.clipboard.writeText(ip);
      var btn = document.getElementById("copy-" + id);
      var orig = btn.textContent;
      btn.textContent = "Copied!";
      setTimeout(() => btn.textContent = orig, 1100);
    }
  </script>
</head>
<body class="minecraft-page">
  <header>
    <div class="header-content">
      <div class="logo-container">
        <img src="assets/logo.png" alt="Oranges Logo" class="logo" />
        <span class="site-title">Oranges MC</span>
      </div>
      <nav>
        <a href="index.html"><button class="nav-btn">Home</button></a>
        <a href="terms.html"><button class="nav-btn">Terms</button></a>
        <a href="https://discord.gg/cpkfnRuRv7" target="_blank"><button class="nav-btn discord-btn">Discord</button></a>
      </nav>
    </div>
  </header>

  <main>
    <h1>Minecraft Anarchy Server</h1>
    <div class="mc-main">
      <div class="mc-card">
        <h2>About Orange MC</h2>
        <p>
          Welcome to Orange MC, the best anarchy Minecraft server where chaos meets creativity. In this lawless world, there are no rules, no resets, and no limits to what you can achieve. Build, destroy, raid, and explore a vast, ungoverned landscape where your imagination and survival skills are the only boundaries.
        </p>

        <h2 style="margin-top:30px;margin-bottom:6px;font-size:1.07em;">Latest Updates</h2>
        <ul id="update-list">
          <li>Loading updates...</li>
        </ul>
        <button id="next-update">&gt;</button>
        <div style="font-size:0.94em;color:#aaa;margin-top:18px;">
          Updated: 2025-05-19
        </div>
      </div>

      <div class="mc-card server-info">
        <h2>Server Information</h2>
        <div style="margin-bottom:26px;">
          Server is 1.21.5 version and it's running papermc with good performance, Java only.
        </div>

        <div class="ip-block">
          <div>
            <strong>Java Address</strong><br />
            <span id="javaip">mc.oranges.lt</span>
          </div>
          <button class="copy-btn" id="copy-javaip" onclick="copyIP('javaip')">Copy IP</button>
        </div>

        <div class="ip-block">
          <div>
            <strong>Bedrock Address</strong><br />
            <span id="bedrockip">play.oranges.lt</span>
          </div>
          <button class="copy-btn" id="copy-bedrockip" onclick="copyIP('bedrockip')">Copy IP</button>
        </div>

        <button class="join-btn" onclick="window.open('https://discord.gg/cpkfnRuRv7','_blank')">Join Our Community!</button>
      </div>
    </div>
  </main>

  <p class="footercopyrighttext">Â© 2025 oranges.lt</p>
  <script src="script.js"></script>
</body>
</html>
